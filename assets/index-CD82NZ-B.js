import{r as d,a as Fr,g as kr,R as Cr}from"./vendor-hNfcizNV.js";import{_ as U,a as Se,b as Fe,c as Ve}from"./transformers-BOsqbiXW.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var cr={exports:{}},ye={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir=d,Pr=Symbol.for("react.element"),Nr=Symbol.for("react.fragment"),Rr=Object.prototype.hasOwnProperty,Mr=Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lr={key:!0,ref:!0,__self:!0,__source:!0};function lr(e,r,t){var n,o={},a=null,c=null;t!==void 0&&(a=""+t),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(c=r.ref);for(n in r)Rr.call(r,n)&&!Lr.hasOwnProperty(n)&&(o[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)o[n]===void 0&&(o[n]=r[n]);return{$$typeof:Pr,type:e,key:a,ref:c,props:o,_owner:Mr.current}}ye.Fragment=Nr;ye.jsx=lr;ye.jsxs=lr;cr.exports=ye;var i=cr.exports,ur,qe=Fr;ur=qe.createRoot,qe.hydrateRoot;var dr={exports:{}},Tr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zr=Tr,Br=zr;function fr(){}function pr(){}pr.resetWarningCache=fr;var Ur=function(){function e(n,o,a,c,u,g){if(g!==Br){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:pr,resetWarningCache:fr};return t.PropTypes=t,t};dr.exports=Ur();var $r=dr.exports;const v=kr($r);function te(e,r,t,n){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(m){try{l(n.next(m))}catch(b){c(b)}}function g(m){try{l(n.throw(m))}catch(b){c(b)}}function l(m){m.done?a(m.value):o(m.value).then(u,g)}l((n=n.apply(e,r||[])).next())})}function ne(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(l){return function(m){return g([l,m])}}function g(l){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(t=0)),t;)try{if(n=1,o&&(a=l[0]&2?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,o=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(m){l=[6,m],o=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ye(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return a}function Qe(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))}var Wr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function se(e,r){var t=Gr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Gr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Wr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Kr=[".DS_Store","Thumbs.db"];function Hr(e){return te(this,void 0,void 0,function(){return ne(this,function(r){return ge(e)&&Vr(e.dataTransfer)?[2,Jr(e.dataTransfer,e.type)]:qr(e)?[2,Yr(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Qr(e)]:[2,[]]})})}function Vr(e){return ge(e)}function qr(e){return ge(e)&&ge(e.target)}function ge(e){return typeof e=="object"&&e!==null}function Yr(e){return ke(e.target.files).map(function(r){return se(r)})}function Qr(e){return te(this,void 0,void 0,function(){var r;return ne(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return se(n)})]}})})}function Jr(e,r){return te(this,void 0,void 0,function(){var t,n;return ne(this,function(o){switch(o.label){case 0:return e.items?(t=ke(e.items).filter(function(a){return a.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Xr))]):[3,2];case 1:return n=o.sent(),[2,Je(mr(n))];case 2:return[2,Je(ke(e.files).map(function(a){return se(a)}))]}})})}function Je(e){return e.filter(function(r){return Kr.indexOf(r.name)===-1})}function ke(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Xr(e){if(typeof e.webkitGetAsEntry!="function")return Xe(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?gr(r):Xe(e)}function mr(e){return e.reduce(function(r,t){return Qe(Qe([],Ye(r),!1),Ye(Array.isArray(t)?mr(t):[t]),!1)},[])}function Xe(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=se(r);return Promise.resolve(t)}function Zr(e){return te(this,void 0,void 0,function(){return ne(this,function(r){return[2,e.isDirectory?gr(e):et(e)]})})}function gr(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function a(){var c=this;r.readEntries(function(u){return te(c,void 0,void 0,function(){var g,l,m;return ne(this,function(b){switch(b.label){case 0:if(u.length)return[3,5];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return g=b.sent(),t(g),[3,4];case 3:return l=b.sent(),n(l),[3,4];case 4:return[3,6];case 5:m=Promise.all(u.map(Zr)),o.push(m),a(),b.label=6;case 6:return[2]}})})},function(u){n(u)})}a()})}function et(e){return te(this,void 0,void 0,function(){return ne(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var a=se(o,e.fullPath);t(a)},function(o){n(o)})})]})})}var rt=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return t.some(function(c){var u=c.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):o===u})}return!0};function Ze(e){return ot(e)||nt(e)||br(e)||tt()}function tt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ot(e){if(Array.isArray(e))return Ce(e)}function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function rr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?er(Object(t),!0).forEach(function(n){hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ie(e,r){return st(e)||it(e,r)||br(e,r)||at()}function at(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function br(e,r){if(e){if(typeof e=="string")return Ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,r)}}function Ce(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function it(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,c,u;try{for(t=t.call(e);!(o=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,u=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function st(e){if(Array.isArray(e))return e}var ct="file-invalid-type",lt="file-too-large",ut="file-too-small",dt="too-many-files",ft=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:ct,message:"File type must be ".concat(t)}},tr=function(r){return{code:lt,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},nr=function(r){return{code:ut,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},pt={code:dt,message:"Too many files"};function yr(e,r){var t=e.type==="application/x-moz-file"||rt(e,r);return[t,t?null:ft(r)]}function vr(e,r,t){if(Y(e.size))if(Y(r)&&Y(t)){if(e.size>t)return[!1,tr(t)];if(e.size<r)return[!1,nr(r)]}else{if(Y(r)&&e.size<r)return[!1,nr(r)];if(Y(t)&&e.size>t)return[!1,tr(t)]}return[!0,null]}function Y(e){return e!=null}function mt(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,a=e.multiple,c=e.maxFiles,u=e.validator;return!a&&r.length>1||a&&c>=1&&r.length>c?!1:r.every(function(g){var l=yr(g,t),m=ie(l,1),b=m[0],O=vr(g,n,o),P=ie(O,1),N=P[0],M=u?u(g):null;return b&&N&&!M})}function he(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function me(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function or(e){e.preventDefault()}function gt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ht(e){return e.indexOf("Edge/")!==-1}function bt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return gt(e)||ht(e)}function z(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r.some(function(u){return!he(n)&&u&&u.apply(void 0,[n].concat(a)),he(n)})}}function yt(){return"showOpenFilePicker"in window}function vt(e){if(Y(e)){var r=Object.entries(e).filter(function(t){var n=ie(t,2),o=n[0],a=n[1],c=!0;return xr(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(a)||!a.every(wr))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(t,n){var o=ie(n,2),a=o[0],c=o[1];return rr(rr({},t),{},hr({},a,c))},{});return[{description:"Files",accept:r}]}return e}function xt(e){if(Y(e))return Object.entries(e).reduce(function(r,t){var n=ie(t,2),o=n[0],a=n[1];return[].concat(Ze(r),[o],Ze(a))},[]).filter(function(r){return xr(r)||wr(r)}).join(",")}function wt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function jt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function xr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function wr(e){return/^.*\.[\w]+$/.test(e)}var At=["children"],Dt=["open"],Et=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_t=["refKey","onChange","onClick"];function Ot(e){return kt(e)||Ft(e)||jr(e)||St()}function St(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kt(e){if(Array.isArray(e))return Ie(e)}function Oe(e,r){return Pt(e)||It(e,r)||jr(e,r)||Ct()}function Ct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jr(e,r){if(e){if(typeof e=="string")return Ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ie(e,r)}}function Ie(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function It(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,c,u;try{for(t=t.call(e);!(o=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,u=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function Pt(e){if(Array.isArray(e))return e}function ar(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ar(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ar(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Pe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function be(e,r){if(e==null)return{};var t=Nt(e,r),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Nt(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Me=d.forwardRef(function(e,r){var t=e.children,n=be(e,At),o=Dr(n),a=o.open,c=be(o,Dt);return d.useImperativeHandle(r,function(){return{open:a}},[a]),Cr.createElement(d.Fragment,null,t(x(x({},c),{},{open:a})))});Me.displayName="Dropzone";var Ar={disabled:!1,getFilesFromEvent:Hr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Me.defaultProps=Ar;Me.propTypes={children:v.func,accept:v.objectOf(v.arrayOf(v.string)),multiple:v.bool,preventDropOnDocument:v.bool,noClick:v.bool,noKeyboard:v.bool,noDrag:v.bool,noDragEventsBubbling:v.bool,minSize:v.number,maxSize:v.number,maxFiles:v.number,disabled:v.bool,getFilesFromEvent:v.func,onFileDialogCancel:v.func,onFileDialogOpen:v.func,useFsAccessApi:v.bool,autoFocus:v.bool,onDragEnter:v.func,onDragLeave:v.func,onDragOver:v.func,onDrop:v.func,onDropAccepted:v.func,onDropRejected:v.func,onError:v.func,validator:v.func};var Ne={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Dr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=x(x({},Ar),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,a=r.maxSize,c=r.minSize,u=r.multiple,g=r.maxFiles,l=r.onDragEnter,m=r.onDragLeave,b=r.onDragOver,O=r.onDrop,P=r.onDropAccepted,N=r.onDropRejected,M=r.onFileDialogCancel,L=r.onFileDialogOpen,Q=r.useFsAccessApi,W=r.autoFocus,G=r.preventDropOnDocument,$=r.noClick,K=r.noKeyboard,H=r.noDrag,y=r.noDragEventsBubbling,A=r.onError,h=r.validator,w=d.useMemo(function(){return xt(t)},[t]),p=d.useMemo(function(){return vt(t)},[t]),D=d.useMemo(function(){return typeof L=="function"?L:ir},[L]),T=d.useMemo(function(){return typeof M=="function"?M:ir},[M]),k=d.useRef(null),j=d.useRef(null),F=d.useReducer(Rt,Ne),V=Oe(F,2),J=V[0],C=V[1],S=J.isFocused,Le=J.isFileDialogActive,ce=d.useRef(typeof window<"u"&&window.isSecureContext&&Q&&yt()),Te=function(){!ce.current&&Le&&setTimeout(function(){if(j.current){var f=j.current.files;f.length||(C({type:"closeDialog"}),T())}},300)};d.useEffect(function(){return window.addEventListener("focus",Te,!1),function(){window.removeEventListener("focus",Te,!1)}},[j,Le,T,ce]);var X=d.useRef([]),ze=function(f){k.current&&k.current.contains(f.target)||(f.preventDefault(),X.current=[])};d.useEffect(function(){return G&&(document.addEventListener("dragover",or,!1),document.addEventListener("drop",ze,!1)),function(){G&&(document.removeEventListener("dragover",or),document.removeEventListener("drop",ze))}},[k,G]),d.useEffect(function(){return!n&&W&&k.current&&k.current.focus(),function(){}},[k,W,n]);var q=d.useCallback(function(s){A?A(s):console.error(s)},[A]),Be=d.useCallback(function(s){s.preventDefault(),s.persist(),fe(s),X.current=[].concat(Ot(X.current),[s.target]),me(s)&&Promise.resolve(o(s)).then(function(f){if(!(he(s)&&!y)){var E=f.length,I=E>0&&mt({files:f,accept:w,minSize:c,maxSize:a,multiple:u,maxFiles:g,validator:h}),R=E>0&&!I;C({isDragAccept:I,isDragReject:R,isDragActive:!0,type:"setDraggedFiles"}),l&&l(s)}}).catch(function(f){return q(f)})},[o,l,q,y,w,c,a,u,g,h]),Ue=d.useCallback(function(s){s.preventDefault(),s.persist(),fe(s);var f=me(s);if(f&&s.dataTransfer)try{s.dataTransfer.dropEffect="copy"}catch{}return f&&b&&b(s),!1},[b,y]),$e=d.useCallback(function(s){s.preventDefault(),s.persist(),fe(s);var f=X.current.filter(function(I){return k.current&&k.current.contains(I)}),E=f.indexOf(s.target);E!==-1&&f.splice(E,1),X.current=f,!(f.length>0)&&(C({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),me(s)&&m&&m(s))},[k,m,y]),le=d.useCallback(function(s,f){var E=[],I=[];s.forEach(function(R){var oe=yr(R,w),re=Oe(oe,2),xe=re[0],we=re[1],je=vr(R,c,a),pe=Oe(je,2),Ae=pe[0],De=pe[1],Ee=h?h(R):null;if(xe&&Ae&&!Ee)E.push(R);else{var _e=[we,De];Ee&&(_e=_e.concat(Ee)),I.push({file:R,errors:_e.filter(function(Sr){return Sr})})}}),(!u&&E.length>1||u&&g>=1&&E.length>g)&&(E.forEach(function(R){I.push({file:R,errors:[pt]})}),E.splice(0)),C({acceptedFiles:E,fileRejections:I,type:"setFiles"}),O&&O(E,I,f),I.length>0&&N&&N(I,f),E.length>0&&P&&P(E,f)},[C,u,w,c,a,g,O,P,N,h]),ue=d.useCallback(function(s){s.preventDefault(),s.persist(),fe(s),X.current=[],me(s)&&Promise.resolve(o(s)).then(function(f){he(s)&&!y||le(f,s)}).catch(function(f){return q(f)}),C({type:"reset"})},[o,le,q,y]),Z=d.useCallback(function(){if(ce.current){C({type:"openDialog"}),D();var s={multiple:u,types:p};window.showOpenFilePicker(s).then(function(f){return o(f)}).then(function(f){le(f,null),C({type:"closeDialog"})}).catch(function(f){wt(f)?(T(f),C({type:"closeDialog"})):jt(f)?(ce.current=!1,j.current?(j.current.value=null,j.current.click()):q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):q(f)});return}j.current&&(C({type:"openDialog"}),D(),j.current.value=null,j.current.click())},[C,D,T,Q,le,q,p,u]),We=d.useCallback(function(s){!k.current||!k.current.isEqualNode(s.target)||(s.key===" "||s.key==="Enter"||s.keyCode===32||s.keyCode===13)&&(s.preventDefault(),Z())},[k,Z]),Ge=d.useCallback(function(){C({type:"focus"})},[]),Ke=d.useCallback(function(){C({type:"blur"})},[]),He=d.useCallback(function(){$||(bt()?setTimeout(Z,0):Z())},[$,Z]),ee=function(f){return n?null:f},ve=function(f){return K?null:ee(f)},de=function(f){return H?null:ee(f)},fe=function(f){y&&f.stopPropagation()},Er=d.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=s.refKey,E=f===void 0?"ref":f,I=s.role,R=s.onKeyDown,oe=s.onFocus,re=s.onBlur,xe=s.onClick,we=s.onDragEnter,je=s.onDragOver,pe=s.onDragLeave,Ae=s.onDrop,De=be(s,Et);return x(x(Pe({onKeyDown:ve(z(R,We)),onFocus:ve(z(oe,Ge)),onBlur:ve(z(re,Ke)),onClick:ee(z(xe,He)),onDragEnter:de(z(we,Be)),onDragOver:de(z(je,Ue)),onDragLeave:de(z(pe,$e)),onDrop:de(z(Ae,ue)),role:typeof I=="string"&&I!==""?I:"presentation"},E,k),!n&&!K?{tabIndex:0}:{}),De)}},[k,We,Ge,Ke,He,Be,Ue,$e,ue,K,H,n]),_r=d.useCallback(function(s){s.stopPropagation()},[]),Or=d.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=s.refKey,E=f===void 0?"ref":f,I=s.onChange,R=s.onClick,oe=be(s,_t),re=Pe({accept:w,multiple:u,type:"file",style:{display:"none"},onChange:ee(z(I,ue)),onClick:ee(z(R,_r)),tabIndex:-1},E,j);return x(x({},re),oe)}},[j,t,u,ue,n]);return x(x({},J),{},{isFocused:S&&!n,getRootProps:Er,getInputProps:Or,rootRef:k,inputRef:j,open:ee(Z)})}function Rt(e,r){switch(r.type){case"focus":return x(x({},e),{},{isFocused:!0});case"blur":return x(x({},e),{},{isFocused:!1});case"openDialog":return x(x({},Ne),{},{isFileDialogActive:!0});case"closeDialog":return x(x({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return x(x({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return x(x({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return x({},Ne);default:return e}}function ir(){}const Mt=[{id:"color",label:"Solid Color"},{id:"image",label:"Image"}],Lt=[{id:"none",label:"None"},{id:"blur",label:"Blur"},{id:"brightness",label:"Bright"},{id:"contrast",label:"Contrast"}],Tt=["#ffffff","#000000","#ff0000","#00ff00","#0000ff","#ffff00","#00ffff","#ff00ff","#808080","#c0c0c0"];function zt({image:e,isOpen:r,onClose:t,onSave:n}){const[o,a]=d.useState("color"),[c,u]=d.useState("#ffffff"),[g,l]=d.useState(null),[m,b]=d.useState("none"),[O,P]=d.useState(50),[N,M]=d.useState(50),[L,Q]=d.useState(50),[W,G]=d.useState(""),[$,K]=d.useState(!1),H=e.processedFile?URL.createObjectURL(e.processedFile):"";d.useEffect(()=>{e.processedFile&&h()},[o,c,g,m,O,N,L]);const y=()=>{switch(m){case"blur":return O;case"brightness":return N;case"contrast":return L;default:return 50}},A=p=>{switch(m){case"blur":P(p);break;case"brightness":M(p);break;case"contrast":Q(p);break}},h=async()=>{if(!e.processedFile)return;const p=document.createElement("canvas"),D=p.getContext("2d");if(!D)return;const T=new Image;if(T.src=H,await new Promise(j=>T.onload=j),p.width=T.width,p.height=T.height,o==="color")D.fillStyle=c,D.fillRect(0,0,p.width,p.height);else if(o==="image"&&g){const j=new Image;j.src=URL.createObjectURL(g),await new Promise(F=>j.onload=F),D.drawImage(j,0,0,p.width,p.height)}if(D.drawImage(T,0,0),m!=="none"){const j=D.getImageData(0,0,p.width,p.height),F=j.data;switch(m){case"blur":const V=document.createElement("canvas"),J=V.getContext("2d");if(!J)break;V.width=p.width,V.height=p.height,J.drawImage(p,0,0),D.clearRect(0,0,p.width,p.height),D.filter=`blur(${O/10}px)`,D.drawImage(V,0,0),D.filter="none";break;case"brightness":for(let S=0;S<F.length;S+=4)F[S]=Math.min(255,F[S]*(N/50)),F[S+1]=Math.min(255,F[S+1]*(N/50)),F[S+2]=Math.min(255,F[S+2]*(N/50));D.putImageData(j,0,0);break;case"contrast":const C=259*(L+255)/(255*(259-L));for(let S=0;S<F.length;S+=4)F[S]=C*(F[S]-128)+128,F[S+1]=C*(F[S+1]-128)+128,F[S+2]=C*(F[S+2]-128)+128;D.putImageData(j,0,0);break}}const k=p.toDataURL("image/png");G(k)},w=()=>{n(W),t()};return r?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit Image"}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Background"}),i.jsx("div",{className:"flex gap-2 mb-4",children:Mt.map(p=>i.jsx("button",{onClick:()=>a(p.id),className:`px-3 py-1 rounded ${o===p.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p.label},p.id))}),o==="color"&&i.jsxs("div",{children:[i.jsx("div",{className:"flex gap-2 mb-2",children:Tt.map(p=>i.jsx("button",{onClick:()=>u(p),className:"w-8 h-8 rounded-full border border-gray-300",style:{backgroundColor:p}},p))}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx("button",{onClick:()=>K(!$),className:"px-3 py-1.5 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors text-sm text-gray-700",children:"Custom Color"}),$&&i.jsx("input",{type:"color",value:c,onChange:p=>u(p.target.value),className:"w-8 h-8 border border-gray-400 rounded-md hover:bg-blue-200"})]})]}),o==="image"&&i.jsx("input",{type:"file",accept:"image/*",onChange:p=>l(p.target.files?.[0]||null),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Effects"}),i.jsx("div",{className:"flex gap-2 mb-4",children:Lt.map(p=>i.jsx("button",{onClick:()=>b(p.id),className:`px-3 py-1 rounded ${m===p.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p.label},p.id))}),m!=="none"&&i.jsxs("div",{children:[i.jsx("input",{type:"range",min:"0",max:"100",value:y(),onChange:p=>A(Number(p.target.value)),className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[i.jsx("span",{children:"0"}),i.jsx("span",{children:y()}),i.jsx("span",{children:"100"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Preview"}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("img",{src:W||H,alt:"Preview",className:"w-full object-contain"})})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),i.jsx("button",{onClick:w,className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Save Changes"})]})]})}):null}function Bt({images:e,onDelete:r}){return i.jsxs("div",{children:[i.jsxs("h2",{className:"hidden text-gray-800 text-xl font-semibold mb-4",children:["Images: ",e.length]}),i.jsx("div",{className:"gap-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(t=>t.file.type.includes("video")?i.jsx(Ut,{video:t},t.id):i.jsx($t,{image:t,onDelete:r},t.id))})]})}function Ut({video:e}){const r=URL.createObjectURL(e.file);return i.jsx("div",{className:"bg-white rounded-lg shadow-md p-3",children:i.jsx("video",{className:"rounded-lg aspect-square object-cover",loop:!0,muted:!0,autoPlay:!0,src:r})})}function $t({image:e,onDelete:r}){const[t,n]=d.useState(!1),[o,a]=d.useState(""),c=URL.createObjectURL(e.file),u=e.processedFile?URL.createObjectURL(e.processedFile):"",g=!e.processedFile,l=b=>{a(b)};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"relative",children:g?i.jsxs("div",{className:"relative",children:[i.jsx("img",{className:"w-full aspect-square object-cover opacity-50 transition-opacity duration-200",src:c,alt:`Processing image ${e.id}`}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"bg-black bg-opacity-50 px-4 py-2 rounded-lg",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),i.jsx("span",{className:"text-white font-medium",children:"Processing..."})]})})]}):i.jsx("div",{className:"w-full aspect-square",style:{background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURb+/v////5nD/3QAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAUSURBVBjTYwABQSCglEENMxgYGAAynwRB8BEAgQAAAABJRU5ErkJggg==")',backgroundRepeat:"repeat"},children:i.jsx("img",{className:"w-full h-full object-cover transition-opacity duration-200",src:o||u,alt:`Processed image ${e.id}`})})}),!g&&i.jsx("div",{className:"p-3 border-t border-gray-100",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsxs("button",{onClick:()=>r(e.id),className:"flex items-center gap-1 px-3 py-1.5 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Delete",children:[i.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),i.jsx("span",{className:"text-sm text-gray-700",children:"Delete"})]}),i.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Edit",children:[i.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),i.jsx("span",{className:"text-sm text-gray-700",children:"Edit"})]}),i.jsxs("a",{href:o||u,download:`processed-${e.id}.png`,className:"flex items-center gap-1 px-3 py-1.5 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Download",children:[i.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),i.jsx("span",{className:"text-sm text-gray-700",children:"Download"})]})]})}),i.jsx(zt,{image:e,isOpen:t,onClose:()=>n(!1),onSave:l})]})}const ae="Xenova/modnet",B="briaai/RMBG-1.4",Wt=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,_={model:null,processor:null,isWebGPUSupported:!1,currentModelId:B,isIOS:Wt()};async function Gt(){const e=navigator.gpu;if(!e)return!1;try{return await e.requestAdapter()?(U.allowLocalModels=!1,U.backends?.onnx?.wasm&&(U.backends.onnx.wasm.proxy=!1),await new Promise(t=>setTimeout(t,100)),_.model=await Se.from_pretrained(ae,{device:"webgpu",config:{model_type:"modnet",architectures:["MODNet"]}}),_.processor=await Fe.from_pretrained(ae),_.isWebGPUSupported=!0,!0):!1}catch(r){return console.error("WebGPU initialization failed:",r),!1}}async function Re(e){try{if(_.isIOS)return console.log("iOS detected, using RMBG-1.4 model"),U.allowLocalModels=!1,U.backends?.onnx?.wasm&&(U.backends.onnx.wasm.proxy=!0),_.model=await Se.from_pretrained(B,{config:{model_type:"custom"}}),_.processor=await Fe.from_pretrained(B,{config:{do_normalize:!0,do_pad:!1,do_rescale:!0,do_resize:!0,image_mean:[.5,.5,.5],feature_extractor_type:"ImageFeatureExtractor",image_std:[1,1,1],resample:2,rescale_factor:.00392156862745098,size:{width:1024,height:1024}}}),_.currentModelId=B,!0;const r=e||B;if(r===ae&&await Gt())return _.currentModelId=ae,!0;if(U.allowLocalModels=!1,U.backends?.onnx?.wasm&&(U.backends.onnx.wasm.proxy=!0),_.model=await Se.from_pretrained(B,{progress_callback:t=>{console.log(`Loading model: ${Math.round(t*100)}%`)}}),_.processor=await Fe.from_pretrained(B,{revision:"main",config:{do_normalize:!0,do_pad:!0,do_rescale:!0,do_resize:!0,image_mean:[.5,.5,.5],feature_extractor_type:"ImageFeatureExtractor",image_std:[.5,.5,.5],resample:2,rescale_factor:.00392156862745098,size:{width:1024,height:1024}}}),_.currentModelId=B,!_.model||!_.processor)throw new Error("Failed to initialize model or processor");return _.currentModelId=r,!0}catch(r){if(console.error("Error initializing model:",r),e===ae)return console.log("Falling back to cross-browser model..."),Re(B);throw new Error(r instanceof Error?r.message:"Failed to initialize background removal model")}}function sr(){return{currentModelId:_.currentModelId,isWebGPUSupported:!!navigator.gpu,isIOS:_.isIOS}}async function Kt(e){if(!_.model||!_.processor)throw new Error("Model not initialized. Call initializeModel() first.");const r=await Ve.fromURL(URL.createObjectURL(e));try{const{pixel_values:t}=await _.processor(r),{output:n}=await _.model({input:t}),o=(await Ve.fromTensor(n[0].mul(255).to("uint8")).resize(r.width,r.height)).data,a=document.createElement("canvas");a.width=r.width,a.height=r.height;const c=a.getContext("2d");if(!c)throw new Error("Could not get 2d context");c.drawImage(r.toCanvas(),0,0);const u=c.getImageData(0,0,r.width,r.height);for(let b=0;b<o.length;++b)u.data[4*b+3]=o[b];c.putImageData(u,0,0);const g=await new Promise((b,O)=>a.toBlob(P=>P?b(P):O(new Error("Failed to create blob")),"image/png")),[l]=e.name.split(".");return new File([g],`${l}-bg-blasted.png`,{type:"image/png"})}catch(t){throw console.error("Error processing image:",t),new Error("Failed to process image")}}async function Ht(e){console.log("Processing images...");const r=[];for(const t of e)try{const n=await Kt(t);r.push(n),console.log("Successfully processed image",t.name)}catch(n){console.error("Error processing image",t.name,n)}return console.log("Processing images done"),r}const Vt=["https://images.unsplash.com/photo-1601233749202-95d04d5b3c00?q=80&w=2938&auto=format&fit=crop&ixlib=rb-4.0.3","https://images.unsplash.com/photo-1513013156887-d2bf241c8c82?q=80&w=2970&auto=format&fit=crop&ixlib=rb-4.0.3","https://images.unsplash.com/photo-1643490745745-e8ca9a3a1c90?q=80&w=2874&auto=format&fit=crop&ixlib=rb-4.0.3","https://images.unsplash.com/photo-1574158622682-e40e69881006?q=80&w=2333&auto=format&fit=crop&ixlib=rb-4.0.3"],qt=()=>{const e=window.navigator.userAgent,r=!!e.match(/iPad/i)||!!e.match(/iPhone/i),t=!!e.match(/WebKit/i);return r&&t&&!e.match(/CriOS/i)&&!e.match(/OPiOS/i)&&!e.match(/FxiOS/i)&&"ontouchend"in document};function Yt(){const[e,r]=d.useState(!0),[t,n]=d.useState(null),[o,a]=d.useState(!1),[c,u]=d.useState(!1),[g,l]=d.useState("briaai/RMBG-1.4"),[m,b]=d.useState(!1),[O,P]=d.useState([]);d.useEffect(()=>{if(qt()){window.location.href="https://bg-mobile.addy.ie";return}const{isIOS:y}=sr();u(y),r(!1)},[]);const N=async y=>{const A=y.target.value;b(!0),n(null);try{if(!await Re(A))throw new Error("Failed to initialize new model");l(A)}catch(h){h instanceof Error&&h.message.includes("Falling back")?l("briaai/RMBG-1.4"):n({message:h instanceof Error?h.message:"Failed to switch models"})}finally{b(!1)}},M=d.useCallback(async y=>{const A=y.map((h,w)=>({id:Date.now()+w,file:h,processedFile:void 0}));if(P(h=>[...h,...A]),O.length===0){r(!0),n(null);try{if(!await Re())throw new Error("Failed to initialize background removal model");const{isWebGPUSupported:w}=sr();a(w)}catch(h){n({message:h instanceof Error?h.message:"An unknown error occurred"}),P([]),r(!1);return}r(!1)}for(const h of A)try{const w=await Ht([h.file]);w&&w.length>0&&P(p=>p.map(D=>D.id===h.id?{...D,processedFile:w[0]}:D))}catch(w){console.error("Error processing image:",w)}},[O.length]),L=async y=>{const A=y.clipboardData.items,h=[];for(const w of A)if(w.type.startsWith("image")){const p=w.getAsFile();p&&h.push(p)}h.length>0&&M(h)},Q=async y=>{try{const h=await(await fetch(y)).blob(),w=new File([h],"sample-image.jpg",{type:"image/jpeg"});M([w])}catch(A){console.error("Error loading sample image:",A)}},{getRootProps:W,getInputProps:G,isDragActive:$,isDragAccept:K,isDragReject:H}=Dr({onDrop:M,accept:{"image/*":[".jpeg",".jpg",".png",".mp4"]}});return i.jsxs("div",{className:"min-h-screen bg-gray-50",onPaste:L,children:[i.jsx("nav",{className:"bg-white shadow-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"BG"}),!c&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-gray-600",children:"Model:"}),i.jsxs("select",{value:g,onChange:N,className:"bg-white border border-gray-300 rounded-md px-3 py-1 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!o,children:[i.jsx("option",{value:"briaai/RMBG-1.4",children:"RMBG-1.4 (Cross-browser)"}),o&&i.jsx("option",{value:"Xenova/modnet",children:"MODNet (WebGPU)"})]})]})]}),c&&i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Using optimized iOS background removal"})]})}),i.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:`grid ${O.length===0?"grid-cols-2 gap-8":"grid-cols-1"}`,children:[O.length===0&&i.jsxs("div",{className:"flex flex-col justify-center items-start",children:[i.jsx("img",{src:"hero.png",alt:"Surprised man",className:"mb-6 w-full object-cover h-[400px]"}),i.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Remove Image Background"}),i.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"100% Automatically and Free"}),i.jsx("p",{className:"text-gray-500",children:"Upload your image and let our AI remove the background instantly. Perfect for professional photos, product images, and more."}),i.jsx("p",{className:"text-sm text-gray-300 mt-4",children:"Built with love by Addy Osmani using Transformers.js"})]}),i.jsxs("div",{className:O.length===0?"":"w-full",children:[i.jsxs("div",{...W(),className:`p-8 mb-8 border-2 border-dashed rounded-lg text-center cursor-pointer transition-colors duration-300 ease-in-out bg-white
                ${K?"border-green-500 bg-green-50":""}
                ${H?"border-red-500 bg-red-50":""}
                ${$?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-500 hover:bg-blue-50"}
                ${e||m?"cursor-not-allowed":""}
              `,children:[i.jsx("input",{...G(),className:"hidden",disabled:e||m}),i.jsx("div",{className:"flex flex-col items-center gap-2",children:e||m?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-2"}),i.jsx("p",{className:"text-lg text-gray-600",children:m?"Switching models...":"Loading background removal model..."})]}):t?i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsx("p",{className:"text-lg text-red-600 font-medium mb-2",children:t.message}),g==="Xenova/modnet"&&i.jsx("button",{onClick:y=>{y.stopPropagation(),N({target:{value:"briaai/RMBG-1.4"}})},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Switch to Cross-browser Version"})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("p",{className:"text-lg text-gray-600",children:$?"Drop the images here...":"Drag and drop images here"}),i.jsx("p",{className:"text-sm text-gray-500",children:"or click to select files"})]})})]}),O.length===0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"text-xl text-gray-700 font-semibold mb-4",children:"No image? Try one of these:"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Vt.map((y,A)=>i.jsx("button",{onClick:()=>Q(y),className:"relative aspect-square overflow-hidden rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.jsx("img",{src:y,alt:`Sample ${A+1}`,className:"w-full h-full object-cover"})},A))}),i.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"All images are processed locally on your device and are not uploaded to any server."})]}),i.jsx(Bt,{images:O,onDelete:y=>P(A=>A.filter(h=>h.id!==y))})]})]})})]})}console.log("main.jsx");ur(document.getElementById("root")).render(i.jsx(d.StrictMode,{children:i.jsx(Yt,{})}));
//# sourceMappingURL=index-CD82NZ-B.js.map
